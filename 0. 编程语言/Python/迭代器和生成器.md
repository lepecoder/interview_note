Python3 迭代器与生成器

> 迭代是Python最强大的功能之一，是访问集合元素的一种方式。
> 迭代器是一个可以记住遍历的位置的对象。
> 迭代器对象从集合的第一个元素开始访问，直到所有的元素被访问完结束。迭代器只能往前不会后退。
> 迭代器有两个基本的方法：**iter()**和**next()**。
> 字符串，列表或元组对象都可用于创建迭代器：
>

迭代器可以记住遍历对象的位置，所以如果我们要访问迭代器中的元素，可以循环使用`next(it))`，也可以使用常规的for语句遍历。

使用`iter(list)`可以将列表转换为迭代器。

`__next__()`方法负责返回迭代器对象的下一个对象，`__iter__()`方法负责返回一个迭代器对象。
对于一个迭代器类来讲，iter传入的参数应当是一个实例对象。

```python
class MyNumbers:
  def __iter__(self):
    self.a = 1
    return self
 
  def __next__(self):
    if self.a <= 20:
      x = self.a
      self.a += 1
      return x
    else:
      raise StopIteration
 
myclass = MyNumbers()
myiter = iter(myclass)
 
print(next(myiter))
```

当迭代结束时需要抛出`StopIteration`异常